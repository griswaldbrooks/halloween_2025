<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spider Crawl - Haunted House Projection</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: #FFF;
            overflow: hidden;
            font-family: monospace;
        }

        canvas {
            display: block;
            cursor: none;
        }

        #controls {
            position: absolute;
            top: 10px;
            left: 10px;
            background: rgba(0, 0, 0, 0.8);
            color: #0f0;
            padding: 15px;
            border: 1px solid #0f0;
            font-size: 12px;
            z-index: 1000;
            max-width: 300px;
        }

        #controls.hidden {
            display: none;
        }

        #controls h3 {
            margin: 0 0 10px 0;
            color: #0f0;
        }

        #controls button {
            background: #000;
            color: #0f0;
            border: 1px solid #0f0;
            padding: 5px 10px;
            margin: 5px 5px 5px 0;
            cursor: pointer;
            font-family: monospace;
        }

        #controls button:hover {
            background: #0f0;
            color: #000;
        }

        #controls input[type="range"] {
            width: 100%;
        }

        #controls label {
            display: block;
            margin-top: 10px;
        }

        .stat {
            margin: 5px 0;
        }
    </style>
</head>
<body>
    <canvas id="canvas"></canvas>

    <div id="controls">
        <h3>üï∑Ô∏è Spider Crawl Controls</h3>

        <button onclick="toggleControls()">Hide Controls (H)</button>
        <button onclick="toggleFullscreen()">Fullscreen (F)</button>
        <button onclick="resetSpiders()">Reset Spiders (R)</button>

        <label>
            Spider Count: <span id="spiderCountLabel">5</span>
            <input type="range" id="spiderCount" min="1" max="20" value="5" oninput="updateSpiderCount(this.value)">
        </label>

        <label>
            Base Speed: <span id="speedLabel">1.0x</span>
            <input type="range" id="speed" min="0.1" max="3.0" step="0.1" value="1.0" oninput="updateSpeed(this.value)">
        </label>

        <label>
            Speed Variation: <span id="speedVariationLabel">0.5</span>
            <input type="range" id="speedVariation" min="0" max="1" step="0.05" value="0.5" oninput="updateSpeedVariation(this.value)">
        </label>

        <label>
            Size Min: <span id="sizeMinLabel">0.5x</span>
            <input type="range" id="sizeMin" min="0.5" max="10" step="0.1" value="0.5" oninput="updateSizeMin(this.value)">
        </label>

        <label>
            Size Max: <span id="sizeMaxLabel">3.0x</span>
            <input type="range" id="sizeMax" min="0.5" max="10" step="0.1" value="3.0" oninput="updateSizeMax(this.value)">
        </label>

        <label>
            Size Variation: <span id="sizeVariationLabel">0.5</span>
            <input type="range" id="sizeVariation" min="0" max="1" step="0.05" value="0.5" oninput="updateSizeVariation(this.value)">
        </label>

        <label style="margin-top: 15px; padding-top: 10px; border-top: 1px solid #0f0; display: block;">
            Animation Mode:
            <select id="animationMode" onchange="updateAnimationMode(this.value)" style="width: 100%; padding: 5px; margin-top: 5px; background: #000; color: #0f0; border: 1px solid #0f0; font-family: monospace;">
                <option value="procedural" selected>Procedural (Tetrapod Gait)</option>
                <option value="hopping">Hopping (Jumping Spider)</option>
                <option value="keyframe">Keyframe (Experimental)</option>
            </select>
        </label>

        <div id="hoppingControls" style="display: none; margin-top: 10px; padding-top: 10px; border-top: 1px solid #0f0;">
            <div style="font-size: 11px; margin-bottom: 10px; opacity: 0.8;">Hopping Parameters:</div>

            <label>
                Hop Distance Min: <span id="hopDistanceMinLabel">6.0x</span>
                <input type="range" id="hopDistanceMin" min="1" max="20" step="0.5" value="6.0" oninput="updateHopDistanceMin(this.value)">
            </label>

            <label>
                Hop Distance Max: <span id="hopDistanceMaxLabel">10.0x</span>
                <input type="range" id="hopDistanceMax" min="1" max="20" step="0.5" value="10.0" oninput="updateHopDistanceMax(this.value)">
            </label>

            <label>
                Hop Frequency Min: <span id="hopFrequencyMinLabel">1</span> cycles
                <input type="range" id="hopFrequencyMin" min="1" max="20" step="1" value="1" oninput="updateHopFrequencyMin(this.value)">
            </label>

            <label>
                Hop Frequency Max: <span id="hopFrequencyMaxLabel">13</span> cycles
                <input type="range" id="hopFrequencyMax" min="1" max="20" step="1" value="13" oninput="updateHopFrequencyMax(this.value)">
            </label>

            <label>
                Flight Speed: <span id="hopFlightDurationLabel">60</span>ms
                <input type="range" id="hopFlightDuration" min="20" max="200" step="10" value="60" oninput="updateHopFlightDuration(this.value)">
            </label>
        </div>

        <div style="margin-top: 15px; padding-top: 10px; border-top: 1px solid #0f0;">
            <div class="stat">FPS: <span id="fps">0</span></div>
            <div class="stat">Active Spiders: <span id="activeSpiders">0</span></div>
        </div>

        <div style="margin-top: 15px; font-size: 10px; opacity: 0.7;">
            <strong>Keyboard Shortcuts:</strong><br>
            H - Toggle controls<br>
            F - Fullscreen<br>
            R - Reset spiders<br>
            Space - Pause/Resume<br>
            <br>
            <strong>Animation Modes:</strong><br>
            Procedural - Tetrapod crawling gait<br>
            Hopping - Jumping spider locomotion<br>
            Keyframe - Custom animation (experimental)
        </div>
    </div>

    <script src="spider-animation.js"></script>
</body>
</html>
